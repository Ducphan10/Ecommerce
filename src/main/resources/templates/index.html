<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{base::layout(~{::section})}">
<head>
	<meta charset="ISO-8859-1">
	<title>Ecom.vn</title>
	<style>
		/* Slider */
		.carousel-caption {
			background: rgba(0, 0, 0, 0.5);
			padding: 20px;
			border-radius: 10px;
			animation: fadeInUp 1s ease-in-out;
		}

		@keyframes fadeInUp {
			from { opacity: 0; transform: translateY(20px); }
			to { opacity: 1; transform: translateY(0); }
		}

		/* Category Card */
		.category-card {
			position: relative;
			overflow: hidden;
		}

		.category-card::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: linear-gradient(135deg, rgba(52, 152, 219, 0.05), rgba(46, 204, 113, 0.05));
			opacity: 0;
			transition: opacity 0.3s ease;
		}

		.category-card:hover {
			transform: translateY(-5px);
			box-shadow: 0 8px 16px rgba(0,0,0,0.15), 0 4px 8px rgba(0,0,0,0.15) !important;
		}

		.category-card:hover::before {
			opacity: 1;
		}

		.category-card:hover .image-wrapper img {
			transform: scale(1.05) rotate(5deg);
		}

		.category-card:hover .category-overlay {
			background: linear-gradient(135deg, rgba(52, 152, 219, 0.2), rgba(46, 204, 113, 0.2));
		}

		.category-name {
			position: relative;
			display: inline-block;
			transition: all 0.3s ease;
		}

		.category-name:hover {
			color: #3498db !important;
		}

		.category-name:hover .category-underline {
			width: 100%;
		}

		.category-stats {
			opacity: 0;
			transform: translateY(10px);
			transition: all 0.3s ease;
		}

		.category-card:hover .category-stats {
			opacity: 1;
			transform: translateY(0);
		}

		@keyframes float {
			0% { transform: translateY(0px); }
			50% { transform: translateY(-10px); }
			100% { transform: translateY(0px); }
		}

		.category-card {
			animation: float 6s ease-in-out infinite;
		}

		.category-card:nth-child(2) { animation-delay: 0.2s; }
		.category-card:nth-child(3) { animation-delay: 0.4s; }
		.category-card:nth-child(4) { animation-delay: 0.6s; }

		/* Product Card */
		.product-card {
			transition: all 0.3s ease;
			background: #ffffff;
			border-radius: 15px;
			position: relative;
			box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15), 0 4px 8px rgba(0, 0, 0, 0.15);
		}

		.product-card:hover {
			transform: translateY(-10px);
			box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2), 0 6px 12px rgba(0, 0, 0, 0.2);
		}

		.product-image-wrapper {
			position: relative;
			overflow: hidden;
		}

		.product-image-wrapper .overlay {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.4);
			opacity: 0;
			display: flex;
			align-items: center;
			justify-content: center;
			transition: opacity 0.3s ease;
		}

		.product-card:hover .overlay {
			opacity: 1;
		}

		.product-title {
			font-size: 1.2rem;
			color: #333;
			display: -webkit-box;
			-webkit-line-clamp: 2;
			-webkit-box-orient: vertical;
			overflow: hidden;
			text-overflow: ellipsis;
			transition: color 0.3s ease;
		}

		.product-title:hover {
			color: #e74c3c;
		}

		/* Responsive Adjustments */
		@media (max-width: 768px) {
			.carousel-caption h1 { font-size: 2rem; }
			.carousel-caption p { font-size: 1rem; }
			.category-name, .product-title { font-size: 1rem; }
			.image-wrapper img { width: 140px; height: 140px; }
			.product-image-wrapper img { height: 160px; }
			.card-body { padding: 12px; }
			.image-wrapper { margin-bottom: 6px; }
			.category-stats { margin-top: 2px; }
			.product-card { box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1), 0 3px 6px rgba(0, 0, 0, 0.1); }
			.product-card:hover { box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15), 0 5px 10px rgba(0, 0, 0, 0.15); }
		}

		@media (max-width: 576px) {
			.carousel-item img { height: 300px; }
			.image-wrapper img { width: 120px; height: 120px; }
			.product-image-wrapper img { height: 140px; }
			.card-body { padding: 10px; }
			.image-wrapper { margin-bottom: 4px; }
			.category-stats { margin-top: 2px; }
			.product-card { box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.1); }
			.product-card:hover { box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15), 0 4px 8px rgba(0, 0, 0, 0.15); }
		}
	</style>
</head>
<body>
<section>
	<!-- Start Slider -->
	<div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
		<div class="carousel-inner">
			<div class="carousel-item active">
				<img src="img/banner3.jpg" class="d-block w-100" alt="Banner 1" style="height: 450px; object-fit: cover;" loading="lazy">
				<div class="carousel-caption d-none d-md-block">
					<h1 class="display-4 fw-bold text-white">Welcome to Our Store</h1>
					<p class="lead text-white">Discover amazing products today!</p>
				</div>
			</div>
			<div class="carousel-item">
				<img src="img/banner1.jpg" class="d-block w-100" alt="Banner 2" style="height: 450px; object-fit: cover;" loading="lazy">
				<div class="carousel-caption d-none d-md-block">
					<h1 class="display-4 fw-bold text-white">Special Offers</h1>
					<p class="lead text-white">Up to 50% off this week!</p>
				</div>
			</div>
			<div class="carousel-item">
				<img src="img/banner2.jpg" class="d-block w-100" alt="Banner 3" style="height: 450px; object-fit: cover;" loading="lazy">
				<div class="carousel-caption d-none d-md-block">
					<h1 class="display-4 fw-bold text-white">New Arrivals</h1>
					<p class="lead text-white">Explore our latest collection!</p>
				</div>
			</div>
		</div>
		<button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Previous</span>
		</button>
		<button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Next</span>
		</button>
	</div>
	<!-- End Slider -->

	<!-- Start Category Module -->
	<div class="container-fluid py-1" style="background: #FFFFFF;">
		<div class="container">
			<div class="section-header text-center mb-3">
				<h2 class="fw-bold text-uppercase" style="color: #2c3e50; position: relative; display: inline-block; margin-bottom: 10px; margin-top: 30px">
					Featured Categories
					<div class="title-underline" style="width: 80px; height: 2px; background: linear-gradient(90deg, #3498db, #2ecc71); margin: 5px auto;"></div>
				</h2>
				<p class="text-muted" style="max-width: 600px; margin: 0 auto; font-size: 0.9rem;">Discover our wide range of product categories to find exactly what you're looking for</p>
			</div>
			<div class="row justify-content-center g-3">
				<div class="col-md-3 col-sm-6 col-6 mb-3" th:each="c, stat : ${category}" th:if="${stat.count <= 4}">
					<div class="card category-card h-100 border-0" style="transition: all 0.3s ease; border-radius: 15px; overflow: hidden; background: #FFFFFF; box-shadow: 0 4px 8px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.1);">
						<div class="card-body text-center p-0" style="background: #FFFFFF;">
							<div class="image-wrapper" style="position: relative; background: #f1f3f5; padding: 0; border-radius: 15px 15px 0 0;">
								<img th:src="@{'/img/category_img/'+${c.imageName}}"
									 class="img-fluid"
									 alt="${c.name}"
									 style="width: 100%; height: 150px; object-fit: cover; transition: all 0.3s ease; border: none; box-shadow: none;"
									 loading="lazy">
							</div>
							<div class="content-wrapper p-2" style="background: #FFFFFF;">
								<a th:href="@{'/products?category='+${c.name}}"
								   class="text-decoration-none fw-semibold category-name"
								   style="color: #333333; font-size: 1rem; position: relative; display: inline-block; padding-bottom: 3px;">
									[[${c.name}]]
									<span class="category-underline" style="position: absolute; bottom: 0; left: 0; width: 0; height: 2px; background: linear-gradient(90deg, #3498db, #2ecc71); transition: width 0.3s ease;"></span>
								</a>
								<div class="category-stats mt-1" style="font-size: 0.8rem; color: #666;">
									<span class="products-count" style="display: inline-block; margin-right: 8px;">
										<i class="fas fa-box"></i> 20+ Products
									</span>
									<span class="rating" style="display: inline-block;">
										<i class="fas fa-star" style="color: #f1c40f;"></i> 4.8
									</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- End Category Module -->

	<!-- Start Latest Product Module -->
	<div class="container-fluid py-5" style="background: #f8f9fa;">
		<div class="container">
			<h2 class="text-center mb-5 fw-bold text-uppercase" style="color: #2c3e50; position: relative; display: inline-block; margin-bottom: 10px; margin-top: 30px">
				Latest Products
				<div class="title-underline" style="width: 80px; height: 2px; background: linear-gradient(90deg, #3498db, #2ecc71); margin: 5px auto;"></div>
			</h2>
			<div class="row justify-content-center">
				<div class="col-md-3 col-sm-6 col-12 mb-4" th:each="p, stat : ${products}" th:if="${stat.count <= 8}">
					<div class="card product-card shadow-sm h-100 border-0" style="background: #ffffff; border-radius: 15px; box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1), 0 4px 8px rgba(0, 0, 0, 0.1);">
						<div class="card-body text-center p-4">
							<div class="product-image-wrapper mb-3 position-relative">
								<img th:src="@{'/img/product_img/'+${p.image}}"
									 class="img-fluid"
									 alt="${p.title}"
									 style="width: 100%; height: 200px; object-fit: cover; border-radius: 10px;"
									 loading="lazy">
							</div>
							<p class="mb-3">
								<a th:href="@{'/product/'+${p.id}}"
								   class="text-decoration-none text-dark fw-semibold product-title">
									[[${p.title}]]
								</a>
							</p>
							<div class="overlay">
								<a th:href="@{'/product/'+${p.id}}" style="background-color: #1a73e8;" class="btn btn-primary btn-sm">View Details</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- End Latest Product Module -->
</section>
</body>
</html>